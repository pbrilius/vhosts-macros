<Macro VHostPorted $name $domain $port>
Listen $port
<VirtualHost *:$port>
  ServerName $domain
  ServerAlias localhost.$domain

  DocumentRoot "/var/www/vhosts/$name"
  ErrorLog "/var/log/httpd/$name.error_log"
  CustomLog "/var/log/httpd/$name.access_log" combined
</VirftualHost>
</Macro>
